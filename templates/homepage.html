{% extends "base.html" %}

{% block title%}HOMEPAGE{% endblock %}

{% block content %}
    <div class="flex-row">
    <img width="200" height="200" class="rounded-circle" src="https://pbs.twimg.com/profile_images/1097820307388334080/9ddg5F6v_400x400.png" alt="sanders">
    <img width="150" height="150" class="rounded-circle" src="https://pbs.twimg.com/profile_images/1235244704859664385/oneP6BrA_400x400.jpg" atl="biden">
    <img width="200" height="200" class="rounded-circle" src="https://pbs.twimg.com/profile_images/1215406626049413121/LiVKh64l_400x400.jpg" alt="warren">
    <img width="150" height="150" class="rounded-circle" src="https://pbs.twimg.com/profile_images/615510114447953920/_1c4TTMM_400x400.jpg" alt="bloomberg">
    <img width="200" height="200" class="rounded-circle" src="https://pbs.twimg.com/profile_images/1216174212517388288/52ugsj_B_400x400.jpg" atl="gabbard">
    <img width="150" height="150" class="rounded-circle" src="https://pbs.twimg.com/profile_images/874276197357596672/kUuht00m_400x400.jpg" atl="trump">
    <img width="200" height="200" class="rounded-circle" src="https://pbs.twimg.com/profile_images/1231272383799070720/z1Fc_vPC_400x400.jpg" atl="yang">
    <img width="150" height="150" class="rounded-circle" src="https://pbs.twimg.com/profile_images/1220222507715686400/sugRph6d_400x400.jpg" atl="khlobuchar">
    </div>
    <br>
    <div class="text-center">
        <form id="session_lang">
            Select your preferred language:
            <select id="language" name="language">
                <option value="en">English</option>
                <option value="zh">Chinese</option>
                <option value="ko">Korean</option>
                <option value="lo">Lao</option>
                <option value="tl">Tagalog</option>
                <option value="th">Thai</option>
                <option value="vi">Vietnamese</option>
            </select>
            <input type='submit' class="btn btn-outline-secondary btn-sm">
        </form>
        <div id="session_message"></div>

        <div class='card text-center' style="width: 18em;margin:0 auto;">
            <div class="card-header">
                Today's Tokens:
            </div>
            <ul class="list-group list-group-flush">
                {% for token in tokens %}
                    <a href="/{{ token }}">
                        <li class="list-group-item">{{ token }}</li>
                    </a>
            </ul>
                {% endfor %}
        </div>
    </div>
{% endblock %}

{% block jscript %}
<script src="http://code.jquery.com/jquery.js"></script>
<script>
//ajax request to save language to flask session
$('#session_lang').on('submit', function(evt) {
    evt.preventDefault();
    let url = '/save_lang_to_session';
    let formData = $('#language option:selected').val();
    $.get(url, {'language':formData}, (res) => {
      $('#session_message').html(res);
    });
});
</script>

{% endblock %}